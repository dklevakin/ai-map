<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Tools Mind‑map (Vanilla)</title>
  <style>
    html, body { height: 100%; margin:0; background:#f9fafb; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    .wrap { padding: 16px; max-width: 1200px; margin: 0 auto; }
    .bar { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
    .btn { border:0; padding:6px 10px; border-radius:8px; cursor:pointer; background:#e5e7eb; }
    .btn.active { background:#2563eb; color:#fff; }
    .card { background:#fff; border-radius:16px; box-shadow: 0 8px 24px rgba(0,0,0,0.06); overflow:auto; }
    svg { display:block; width:100%; height:auto; min-height:640px; }
    .tip { pointer-events:none; }
    .small { font-size:10px; font-weight:600; fill:#111827; }
    .normal { font-size:12px; font-weight:600; fill:#111827; }
    .large { font-size:16px; font-weight:700; fill:#111827; }
    .muted { font-size:11px; fill:#d1d5db; }
    .link { font-size:11px; fill:#60a5fa; text-decoration:underline; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="bar">
      <h1>AI Tools Mind‑map</h1>
      <div>
        <button id="uaBtn" class="btn active">UA</button>
        <button id="enBtn" class="btn">EN</button>
      </div>
    </div>
    <div class="card">
      <svg id="stage" viewBox="0 0 1100 760" aria-label="Mind map canvas"></svg>
    </div>
    <p style="color:#4b5563; font-size:12px; margin-top:10px;">
      Клік по категорії — розкрити сервіси. Наведіть — опис і посилання. / Click category to expand; hover a service for description & link.
    </p>
  </div>

  <script>
    const DATA = {
      ua: [
        { category: "LLM", color: "#2563eb", items: [
          { name: "ChatGPT", href: "https://chat.openai.com/", desc: "Універсальний асистент для текстів, ідей, аналізу." },
          { name: "Claude", href: "https://claude.ai/", desc: "Зручний для великих документів і юридичних текстів." },
          { name: "Google Gemini", href: "https://gemini.google.com/", desc: "Інтеграція з Google Workspace (Docs, Sheets)." },
          { name: "Microsoft Copilot", href: "https://copilot.microsoft.com/", desc: "Вбудований у Word, Excel, Outlook." },
        ]},
        { category: "Зображення", color: "#16a34a", items: [
          { name: "Midjourney", href: "https://www.midjourney.com/", desc: "Високоякісні візуали: мода, інтер'єри, реклама." },
          { name: "Stable Diffusion / Leonardo AI", href: "https://leonardo.ai/", desc: "Гнучкість і контроль стилю, рішення для бізнесу." },
          { name: "Canva AI", href: "https://www.canva.com/ai/", desc: "Швидке створення маркетингових матеріалів." },
          { name: "Adobe Firefly", href: "https://www.adobe.com/products/firefly.html", desc: "Генеративні інструменти у Photoshop/Illustrator." },
        ]},
        { category: "Відео", color: "#f59e0b", items: [
          { name: "HeyGen", href: "https://www.heygen.com/", desc: "Аватар‑відео з тексту." },
          { name: "Synthesia", href: "https://www.synthesia.io/", desc: "Навчальні та маркетингові відео." },
          { name: "Runway ML", href: "https://runwayml.com/", desc: "Генерація сцен і відеоредагування." },
          { name: "Pictory / OpusClip", href: "https://www.opus.pro/", desc: "Нарізки з довгих відео для соцмереж." },
        ]},
        { category: "Автоматизація", color: "#db2777", items: [
          { name: "Zapier / Make / n8n", href: "https://zapier.com/", desc: "Інтеграція CRM, пошти, маркетингу, Google Sheets." },
          { name: "UiPath / Power Automate", href: "https://www.uipath.com/", desc: "RPA для складних бізнес‑процесів." },
          { name: "Tidio / ManyChat", href: "https://www.manychat.com/", desc: "Чат‑боти з AI для продажів і підтримки." },
        ]},
        { category: "Навчання", color: "#7c3aed", items: [
          { name: "Coursera / Udemy", href: "https://www.coursera.org/", desc: "AI‑курси для команд." },
          { name: "Docebo / LearnWorlds", href: "https://www.docebo.com/", desc: "Корпоративне навчання з AI." },
          { name: "Evolv AI", href: "https://www.evolv.ai/", desc: "Персоналізоване навчання і експерименти." },
        ]},
        { category: "UGC & Маркетинг", color: "#0ea5e9", items: [
          { name: "CapCut / VEED.io", href: "https://www.capcut.com/", desc: "Швидкі відео для TikTok/Instagram." },
          { name: "Copy.ai / Jasper", href: "https://www.jasper.ai/", desc: "Тексти для реклами та email." },
          { name: "Notion AI", href: "https://www.notion.so/product/ai", desc: "Плани, статті, внутрішня документація." },
        ]},
        { category: "Аналітика", color: "#059669", items: [
          { name: "Power BI + Copilot / Tableau + AI", href: "https://powerbi.microsoft.com/", desc: "BI‑аналітика з AI‑допомогою." },
          { name: "MonkeyLearn", href: "https://monkeylearn.com/", desc: "Аналіз відгуків і текстів." },
          { name: "Crayon / Crux", href: "https://www.crayon.co/", desc: "Конкурентна аналітика." },
        ]},
        { category: "Спеціальні", color: "#dc2626", items: [
          { name: "Xero / QuickBooks + AI", href: "https://www.xero.com/", desc: "Автоматизація бухобліку." },
          { name: "AdCreative.ai", href: "https://www.adcreative.ai/", desc: "Генерація банерів і оголошень." },
          { name: "Shopify AI / Wix AI", href: "https://www.shopify.com/", desc: "Опис товарів, SEO, магазин." },
          { name: "Planner 5D / Autodesk AI", href: "https://planner5d.com/", desc: "Проєкти та візуалізації у будівництві/дизайні." },
          { name: "Fashwell AI", href: "https://www.fashwell.com/", desc: "Рекомендації стилю та трендів." },
        ]},
      ],
      en: [
        { category: "LLM", color: "#2563eb", items: [
          { name: "ChatGPT", href: "https://chat.openai.com/", desc: "Universal assistant for texts, ideas, analysis." },
          { name: "Claude", href: "https://claude.ai/", desc: "Great for large docs and legal texts." },
          { name: "Google Gemini", href: "https://gemini.google.com/", desc: "Integration with Google Workspace." },
          { name: "Microsoft Copilot", href: "https://copilot.microsoft.com/", desc: "Built into Word, Excel, Outlook." },
        ]},
        { category: "Images", color: "#16a34a", items: [
          { name: "Midjourney", href: "https://www.midjourney.com/", desc: "High‑quality visuals: fashion, interiors, ads." },
          { name: "Stable Diffusion / Leonardo AI", href: "https://leonardo.ai/", desc: "Flexible style control, business‑ready." },
          { name: "Canva AI", href: "https://www.canva.com/ai/", desc: "Fast marketing materials." },
          { name: "Adobe Firefly", href: "https://www.adobe.com/products/firefly.html", desc: "Generative tools in Adobe apps." },
        ]},
        { category: "Video", color: "#f59e0b", items: [
          { name: "HeyGen", href: "https://www.heygen.com/", desc: "Avatar videos from text." },
          { name: "Synthesia", href: "https://www.synthesia.io/", desc: "Training & marketing videos." },
          { name: "Runway ML", href: "https://runwayml.com/", desc: "Scene generation & editing." },
          { name: "Pictory / OpusClip", href: "https://www.opus.pro/", desc: "Shorts from long videos." },
        ]},
        { category: "Automation", color: "#db2777", items: [
          { name: "Zapier / Make / n8n", href: "https://zapier.com/", desc: "Integrate CRM, email, marketing, Sheets." },
          { name: "UiPath / Power Automate", href: "https://www.uipath.com/", desc: "RPA for complex workflows." },
          { name: "Tidio / ManyChat", href: "https://www.manychat.com/", desc: "AI chatbots for sales & support." },
        ]},
        { category: "Learning", color: "#7c3aed", items: [
          { name: "Coursera / Udemy", href: "https://www.coursera.org/", desc: "AI courses for teams." },
          { name: "Docebo / LearnWorlds", href: "https://www.docebo.com/", desc: "Corporate learning with AI." },
          { name: "Evolv AI", href: "https://www.evolv.ai/", desc: "Personalized learning & experiments." },
        ]},
        { category: "UGC & Marketing", color: "#0ea5e9", items: [
          { name: "CapCut / VEED.io", href: "https://www.capcut.com/", desc: "Quick videos for social." },
          { name: "Copy.ai / Jasper", href: "https://www.jasper.ai/", desc: "Copy for ads & emails." },
          { name: "Notion AI", href: "https://www.notion.so/product/ai", desc: "Docs, plans, internal notes." },
        ]},
        { category: "Analytics", color: "#059669", items: [
          { name: "Power BI + Copilot / Tableau + AI", href: "https://powerbi.microsoft.com/", desc: "BI analytics with AI." },
          { name: "MonkeyLearn", href: "https://monkeylearn.com/", desc: "Reviews & text analysis." },
          { name: "Crayon / Crux", href: "https://www.crayon.co/", desc: "Competitive intelligence." },
        ]},
        { category: "Specialized", color: "#dc2626", items: [
          { name: "Xero / QuickBooks + AI", href: "https://www.xero.com/", desc: "Accounting automation." },
          { name: "AdCreative.ai", href: "https://www.adcreative.ai/", desc: "Ad banners & creatives." },
          { name: "Shopify AI / Wix AI", href: "https://www.shopify.com/", desc: "SEO, product descriptions, store." },
          { name: "Planner 5D / Autodesk AI", href: "https://planner5d.com/", desc: "Projects & visualizations." },
          { name: "Fashwell AI", href: "https://www.fashwell.com/", desc: "Style & trend recommendations." },
        ]},
      ],
    };

    // State
    let lang = localStorage.getItem('lang') || 'ua';
    let expanded = null; // index of category
    const stage = document.getElementById('stage');
    const uaBtn = document.getElementById('uaBtn');
    const enBtn = document.getElementById('enBtn');

    function setLang(l) {
      lang = l;
      localStorage.setItem('lang', l);
      uaBtn.classList.toggle('active', l==='ua');
      enBtn.classList.toggle('active', l==='en');
      expanded = null;
      render();
    }

    uaBtn.onclick = () => setLang('ua');
    enBtn.onclick = () => setLang('en');

    // Drawing primitives
    function group(parent) {
      const el = document.createElementNS('http://www.w3.org/2000/svg','g');
      parent.appendChild(el);
      return el;
    }
    function path(parent, d, opts={}) {
      const el = document.createElementNS('http://www.w3.org/2000/svg','path');
      el.setAttribute('d', d);
      el.setAttribute('fill', opts.fill || 'none');
      if (opts.stroke) el.setAttribute('stroke', opts.stroke);
      if (opts.sw) el.setAttribute('stroke-width', opts.sw);
      if (opts.op) el.setAttribute('stroke-opacity', opts.op);
      if (opts.sd) el.setAttribute('stroke-dasharray', opts.sd);
      parent.appendChild(el);
      return el;
    }
    function createNode(parent, x, y, label, opts={}) {
      const g = group(parent);
      g.setAttribute('transform', `translate(${x},${y})`);
      const textEl = document.createElementNS('http://www.w3.org/2000/svg','text');
      textEl.setAttribute('text-anchor','middle');
      textEl.setAttribute('dominant-baseline','middle');
      textEl.setAttribute('class', opts.cls || 'normal');
      textEl.textContent = label;
      g.appendChild(textEl);
      const bbox = textEl.getBBox();
      const padX = opts.padX ?? 18;
      const padY = opts.padY ?? 12;
      const rx = bbox.width / 2 + padX;
      const ry = bbox.height / 2 + padY;
      const ell = document.createElementNS('http://www.w3.org/2000/svg','ellipse');
      ell.setAttribute('cx', 0);
      ell.setAttribute('cy', 0);
      ell.setAttribute('rx', rx);
      ell.setAttribute('ry', ry);
      ell.setAttribute('fill', opts.fill || '#fff');
      if (opts.fillOpacity != null) ell.setAttribute('fill-opacity', opts.fillOpacity);
      if (opts.stroke) ell.setAttribute('stroke', opts.stroke);
      if (opts.sw) ell.setAttribute('stroke-width', opts.sw);
      if (opts.op) ell.setAttribute('opacity', opts.op);
      g.insertBefore(ell, textEl);
      return { group: g, text: textEl, ellipse: ell, rx, ry, x, y };
    }

    // Tooltip management
    let tipGroup = null;
    function showTip(x, y, title, desc, href) {
      hideTip();
      tipGroup = group(stage);
      tipGroup.setAttribute('class','tip');
      const w = 260, h = 110, pad = 10;
      const vb = (stage.getAttribute('viewBox') || '0 0 1100 760').split(' ').map(Number);
      const viewW = vb[2] || 1100;
      const viewH = vb[3] || 760;
      let tx = x + 18;
      let ty = y - h - 14;
      if (tx + w > viewW - 12) tx = x - w - 18;
      if (tx < 12) tx = 12;
      if (ty < 12) ty = y + 18;
      if (ty + h > viewH - 12) ty = Math.max(12, viewH - h - 12);
      const bg = document.createElementNS('http://www.w3.org/2000/svg','rect');
      bg.setAttribute('x', tx); bg.setAttribute('y', ty); bg.setAttribute('rx', 12); bg.setAttribute('ry', 12);
      bg.setAttribute('width', w); bg.setAttribute('height', h);
      bg.setAttribute('fill', '#111827'); bg.setAttribute('opacity', '0.95');
      tipGroup.appendChild(bg);
      const t1 = document.createElementNS('http://www.w3.org/2000/svg','text');
      t1.setAttribute('x', tx + pad); t1.setAttribute('y', ty + pad + 4); t1.setAttribute('fill', '#fff');
      t1.setAttribute('style','font-weight:700; font-size:12px;');
      t1.textContent = title;
      tipGroup.appendChild(t1);
      const t2 = document.createElementNS('http://www.w3.org/2000/svg','text');
      t2.setAttribute('x', tx + pad); t2.setAttribute('y', ty + 28); t2.setAttribute('class', 'muted');
      t2.textContent = desc;
      tipGroup.appendChild(t2);
      const link = document.createElementNS('http://www.w3.org/2000/svg','a');
      link.setAttribute('href', href); link.setAttribute('target','_blank'); link.setAttribute('rel','noreferrer');
      const t3 = document.createElementNS('http://www.w3.org/2000/svg','text');
      t3.setAttribute('x', tx + pad); t3.setAttribute('y', ty + h - 12); t3.setAttribute('class','link');
      t3.textContent = (lang==='ua' ? 'Відкрити сайт →' : 'Visit site →');
      link.appendChild(t3);
      tipGroup.appendChild(link);
    }
    function hideTip() {
      if (tipGroup) {
        if (tipGroup.parentNode) tipGroup.parentNode.removeChild(tipGroup);
        tipGroup = null;
      }
    }

    function render() {
      hideTip();
      stage.innerHTML = '';

      const connectorsLayer = group(stage);
      const nodesLayer = group(stage);

      const data = DATA[lang];
      const total = data.length;
      const rightCount = Math.ceil(total / 2);
      const leftCount = total - rightCount;

      const CATEGORY_GAP = 240;
      const ITEM_GAP = 220;
      const BASE_SPACING = 110;
      const ITEM_SPACING = 64;
      const MARGIN_Y = 120;
      const CANVAS_WIDTH = 1100;
      const MIN_HEIGHT = 680;

      const weights = data.map((cat, idx) => {
        if (expanded === idx) {
          return Math.max(1.6, cat.items.length * 0.9);
        }
        return 1;
      });
      const sum = (arr) => arr.reduce((acc, val) => acc + val, 0);
      const rightWeight = sum(weights.slice(0, rightCount));
      const leftWeight = sum(weights.slice(rightCount));

      const height = Math.max(
        MIN_HEIGHT,
        MARGIN_Y * 2 + rightWeight * BASE_SPACING,
        MARGIN_Y * 2 + leftWeight * BASE_SPACING
      );
      const availableHeight = height - MARGIN_Y * 2;

      stage.setAttribute('viewBox', `0 0 ${CANVAS_WIDTH} ${height}`);
      stage.setAttribute('height', height);
      stage.style.height = `${height}px`;

      const rootX = CANVAS_WIDTH / 2;
      const rootY = height / 2;

      const positions = new Array(total);
      const layoutSide = (start, count, side) => {
        if (count <= 0) return;
        const indices = [];
        for (let i = 0; i < count; i++) indices.push(start + i);
        const totalWeight = sum(indices.map((idx) => weights[idx])) || count;
        let cursor = MARGIN_Y;
        indices.forEach((idx) => {
          const portion = weights[idx] / totalWeight;
          const segment = portion * availableHeight;
          const centerY = cursor + segment / 2;
          positions[idx] = {
            x: side === 'right' ? rootX + CATEGORY_GAP : rootX - CATEGORY_GAP,
            y: centerY,
            side,
          };
          cursor += segment;
        });
      };

      layoutSide(0, rightCount, 'right');
      layoutSide(rightCount, leftCount, 'left');

      const rootNode = createNode(nodesLayer, rootX, rootY, 'MSB × AI', {
        fill: '#fff',
        stroke: '#111827',
        sw: 2,
        padX: 30,
        padY: 20,
        cls: 'large',
      });

      const catNodes = [];
      data.forEach((cat, idx) => {
        const pos = positions[idx];
        if (!pos) return;
        const node = createNode(nodesLayer, pos.x, pos.y, cat.category, {
          fill: cat.color,
          fillOpacity: 0.12,
          stroke: cat.color,
          sw: 2,
          padX: 26,
          padY: 16,
          cls: 'normal',
        });
        node.group.style.cursor = 'pointer';
        node.group.setAttribute('role', 'button');
        node.group.setAttribute('tabindex', '0');
        node.group.setAttribute('aria-label', cat.category);
        node.group.addEventListener('click', () => {
          expanded = expanded === idx ? null : idx;
          render();
        });
        node.group.addEventListener('keypress', (evt) => {
          if (evt.key === 'Enter' || evt.key === ' ') {
            evt.preventDefault();
            expanded = expanded === idx ? null : idx;
            render();
          }
        });
        catNodes[idx] = { ...node, pos, cat };
      });

      const branchLayer = group(connectorsLayer);
      catNodes.forEach((node) => {
        if (!node) return;
        const { pos, cat } = node;
        const startX = pos.side === 'right' ? rootNode.x + rootNode.rx : rootNode.x - rootNode.rx;
        const startY = rootNode.y;
        const endX = pos.side === 'right' ? pos.x - node.rx : pos.x + node.rx;
        const endY = pos.y;
        const ctrlX = startX + (endX - startX) * 0.5;
        path(
          branchLayer,
          `M ${startX} ${startY} C ${ctrlX} ${startY}, ${ctrlX} ${endY}, ${endX} ${endY}`,
          { stroke: cat.color, sw: 2, op: 0.45 }
        );
      });

      if (expanded != null && catNodes[expanded]) {
        const node = catNodes[expanded];
        const { cat, pos } = node;
        const highlight = document.createElementNS('http://www.w3.org/2000/svg','ellipse');
        highlight.setAttribute('cx', node.x);
        highlight.setAttribute('cy', node.y);
        highlight.setAttribute('rx', node.rx + 28);
        highlight.setAttribute('ry', node.ry + 24);
        highlight.setAttribute('fill', 'none');
        highlight.setAttribute('stroke', cat.color);
        highlight.setAttribute('stroke-opacity', '0.55');
        highlight.setAttribute('stroke-dasharray', '8 12');
        connectorsLayer.appendChild(highlight);

        const items = cat.items;
        const itemCount = items.length;
        if (itemCount) {
          const branchHeight = ITEM_SPACING * (itemCount - 1);
          const startY = node.y - branchHeight / 2;
          const itemConnectors = group(connectorsLayer);
          const itemLayer = group(nodesLayer);

          items.forEach((item, idx) => {
            const itemY = startY + idx * ITEM_SPACING;
            const itemX = pos.side === 'right' ? pos.x + ITEM_GAP : pos.x - ITEM_GAP;
            const itemNode = createNode(itemLayer, itemX, itemY, item.name, {
              fill: '#fff',
              stroke: cat.color,
              sw: 1.5,
              padX: 20,
              padY: 12,
              cls: 'small',
            });
            itemNode.group.style.cursor = 'pointer';
            itemNode.group.addEventListener('mouseenter', () =>
              showTip(itemX, itemY, item.name, item.desc, item.href)
            );
            itemNode.group.addEventListener('mouseleave', hideTip);
            itemNode.group.addEventListener('click', () => window.open(item.href, '_blank'));
            const startBranchX = pos.side === 'right' ? node.x + node.rx : node.x - node.rx;
            const endBranchX = pos.side === 'right' ? itemX - itemNode.rx : itemX + itemNode.rx;
            const ctrlBranchX = startBranchX + (endBranchX - startBranchX) * 0.6;
            path(
              itemConnectors,
              `M ${startBranchX} ${node.y} C ${ctrlBranchX} ${node.y}, ${ctrlBranchX} ${itemY}, ${endBranchX} ${itemY}`,
              { stroke: cat.color, sw: 1.6, op: 0.6 }
            );
          });
        }
      }
    }

    // Init
    setLang(lang);
  </script>
</body>
</html>
