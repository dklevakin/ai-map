# ADR 0002: Адаптивне радіальне компонування мапи

- **Статус:** Accepted
- **Дата:** 2025-09-21
- **Повʼязані PR:** #1 `codex/refactor-mind-map-l`

## Контекст
Початкове розміщення вузлів у мапі не враховувало різну кількість сервісів у категоріях. Через це деякі елементи перекривалися, а полотно мало фіксовану висоту й не масштабувалося під контент. Потрібно було забезпечити адаптивне компонування без сторонніх бібліотек для графів.

## Рішення
- Розраховувати позиції категорій симетрично відносно центрального вузла та поділяти їх на ліву/праву півкулі.
- Визначати вагу категорії залежно від кількості елементів (з урахуванням розкритих груп) і пропорційно розподіляти вертикальний простір.
- Використовувати еліпси з динамічними радіусами навколо тексту, щоб довгі назви не обрізалися.
- Генерувати з’єднувальні криві Безьє між центром і категоріями для плавної візуалізації звʼязків.

## Наслідки
- ✅ Мапа масштабуються під різні каталоги без перекриття елементів.
- ✅ Гнучкі еліпси дозволяють легко додавати довгі назви категорій та сервісів.
- ⚠️ Збільшилась складність клієнтської логіки; необхідні тести при зміні констант відступів.
- ⚠️ Подальше ускладнення графа (наприклад, додавання третіх рівнів) вимагатиме додаткових алгоритмів розміщення.
